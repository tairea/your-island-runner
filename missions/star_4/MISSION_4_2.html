<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mission 4.2: Touched Events</title>
</head>
<body>
    <div class="mission-hook">
        <h1>Making Your Game Come Alive</h1>
        <p>Imagine walking through a game where nothing reacts to you. No doors open. No coins collect. No enemies chase you. Pretty boring, right?</p>
        <p>The difference between a 3D model and a real game is <strong>interaction</strong>. In this mission, you're going to make your game respond when players touch things. This is where your island runner transforms from a pretty world into an actual game.</p>
    </div>

    <div class="mission-objective">
        <h2>Mission Objective</h2>
        <p>Write a script that responds when players touch a part</p>
    </div>

    <div class="mission-content-main">
        <h2>What Are Events?</h2>
        <p>Think about real life for a second. When your alarm goes off in the morning, you wake up. When someone knocks on a door, you answer it. When you touch a hot stove, you pull your hand back fast!</p>

        <p>These are all <strong>events</strong> - things that happen that trigger a response. In coding, events work the same way:</p>

        <ul>
            <li><strong>Event happens:</strong> Player touches a part</li>
            <li><strong>Code responds:</strong> Something happens in your game</li>
        </ul>

        <p>Roblox has tons of built-in events: Touched, Clicked, CharacterAdded, Died, and many more. Today, we're focusing on the most useful one: <strong>Touched</strong>.</p>

        <h2>Step 1: Create a Test Part</h2>
        <p>First, let's create a part that we can interact with:</p>

        <ol>
            <li>In the <strong>Workspace</strong>, create a new <strong>Part</strong></li>
            <li>Rename it to <strong>TouchPart</strong></li>
            <li>Change its color to bright green so it stands out</li>
            <li>Position it somewhere your player can easily reach (on the ground near your spawn)</li>
            <li>Make it a bit bigger so it's easy to touch - try size (10, 2, 10)</li>
        </ol>

        <div class="info-box">
            <h3>Why a Test Part?</h3>
            <p>Professional developers always test new code with simple examples first. Once you understand how Touched events work with this test part, you can apply the same code to checkpoints, power-ups, doors, and anything else you can imagine!</p>
        </div>

        <h2>Step 2: Add a Script to Your Part</h2>
        <p>Here's something new: instead of putting the script in ServerScriptService, we're going to put it <em>inside the part itself</em>.</p>

        <ol>
            <li>In the <strong>Explorer</strong>, find your <strong>TouchPart</strong></li>
            <li>Right-click on <strong>TouchPart</strong></li>
            <li>Select <strong>Insert Object</strong> > <strong>Script</strong></li>
            <li>Rename the script to <strong>TouchDetector</strong></li>
        </ol>

        <p>Now your TouchPart has its own personal script! The script can access the part it's inside using a special keyword called <code>script.Parent</code>.</p>

        <h2>Step 3: Write Your First Event Code</h2>
        <p>Double-click your TouchDetector script and replace everything with this code:</p>

        <div class="code-example">
            <pre><code>local part = script.Parent

part.Touched:Connect(function()
    print("Something touched me!")
end)</code></pre>
        </div>

        <p>Whoa! That's more complex than our simple print statements. Let's break down EVERY single line:</p>

        <h3>Line by Line Explanation</h3>

        <h4>Line 1: <code>local part = script.Parent</code></h4>
        <ul>
            <li><strong>local</strong> - Creates a variable that only exists in this script</li>
            <li><strong>part</strong> - The name we're giving to our variable (we could call it anything)</li>
            <li><strong>=</strong> - Assigns a value to the variable</li>
            <li><strong>script.Parent</strong> - Refers to the object containing this script (our TouchPart)</li>
        </ul>
        <p>Think of this like creating a nickname. Instead of typing "script.Parent" every time, we can just type "part". It's shorter and easier to read!</p>

        <h4>Line 3: <code>part.Touched:Connect(function()</code></h4>
        <p>This line does A LOT. Let's break it into pieces:</p>
        <ul>
            <li><strong>part.Touched</strong> - The Touched event of our part</li>
            <li><strong>:Connect</strong> - Connects our code to that event (like plugging in a cord)</li>
            <li><strong>function()</strong> - Creates a function (a block of code) that will run when the event fires</li>
        </ul>
        <p>In plain English: "When something touches this part, run the code I'm about to give you."</p>

        <h4>Line 4: <code>print("Something touched me!")</code></h4>
        <p>This is the code that runs when the event fires. You already know print() from the last mission!</p>

        <h4>Line 5: <code>end)</code></h4>
        <p>This closes both the function AND the Connect(). Every <code>function()</code> needs an <code>end</code>, and every opening parenthesis needs a closing one.</p>

        <h2>Step 4: Test Your Code</h2>
        <ol>
            <li>Make sure the <strong>Output</strong> window is visible</li>
            <li>Click the <strong>Play</strong> button</li>
            <li>Walk your character into the green TouchPart</li>
            <li>Watch the Output window!</li>
        </ol>

        <p>You should see "Something touched me!" appear multiple times! Why multiple times? Because as you walk through the part, different parts of your character touch it - your legs, your torso, maybe your arms. Each touch fires the event!</p>

        <div class="try-it">
            <h3>Try It: Add More Messages</h3>
            <p>Inside the function (between <code>function()</code> and <code>end</code>), you can add as many lines of code as you want! Try this:</p>
            <div class="code-example">
                <pre><code>part.Touched:Connect(function()
    print("Something touched me!")
    print("I can feel that!")
    print("This is so cool!")
end)</code></pre>
            </div>
        </div>

        <h2>Step 5: Make It More Useful - Detect What Touched</h2>
        <p>Right now, our code fires when ANYTHING touches the part - players, other parts, even falling debris. Let's make it smarter by detecting exactly what touched it.</p>

        <p>Update your code to this:</p>

        <div class="code-example">
            <pre><code>local part = script.Parent

part.Touched:Connect(function(hit)
    print("Something called " .. hit.Name .. " touched me!")
end)</code></pre>
        </div>

        <h3>What Changed?</h3>

        <h4><code>function(hit)</code> instead of <code>function()</code></h4>
        <p>We added a <strong>parameter</strong> called <code>hit</code>. When the Touched event fires, it automatically sends information about what touched the part. By putting <code>hit</code> in the parentheses, we can access that information!</p>

        <p><code>hit</code> is the actual part that touched our TouchPart. If a player touches it, <code>hit</code> is part of their character (like their leg or torso).</p>

        <h4><code>.. hit.Name ..</code></h4>
        <p>The <code>..</code> operator combines text (we call this "concatenation"). This line combines three pieces:</p>
        <ul>
            <li>"Something called "</li>
            <li>The name of whatever touched the part</li>
            <li>" touched me!"</li>
        </ul>

        <p>Test it now! You'll see messages like "Something called Left Leg touched me!" or "Something called Right Leg touched me!"</p>

        <h2>Step 6: Detect Players Specifically</h2>
        <p>Let's make our code even smarter - let's detect when a PLAYER touches the part and print their username!</p>

        <div class="code-example">
            <pre><code>local part = script.Parent

part.Touched:Connect(function(hit)
    local humanoid = hit.Parent:FindFirstChild("Humanoid")

    if humanoid then
        local player = game.Players:GetPlayerFromCharacter(hit.Parent)
        if player then
            print(player.Name .. " touched the part!")
        end
    end
end)</code></pre>
        </div>

        <p>Okay, this is getting more advanced! Let's break it down:</p>

        <h3>Understanding the Logic</h3>

        <h4>Finding the Humanoid</h4>
        <p><code>local humanoid = hit.Parent:FindFirstChild("Humanoid")</code></p>
        <p>Every player character has a special object called a Humanoid. This line looks for it. If we find a Humanoid, we know something with a character touched the part (not just a random brick).</p>

        <h4>The if Statement</h4>
        <p><code>if humanoid then</code></p>
        <p>This checks: "Did we find a Humanoid?" If yes, run the code inside. If no, skip it.</p>

        <h4>Getting the Player</h4>
        <p><code>local player = game.Players:GetPlayerFromCharacter(hit.Parent)</code></p>
        <p>This gets the actual player object from the character. The player object has useful info like their username!</p>

        <h4>Printing the Username</h4>
        <p><code>print(player.Name .. " touched the part!")</code></p>
        <p>Now we print their actual username!</p>

        <div class="try-it">
            <h3>Make It Fun!</h3>
            <p>Try changing the message to something fun:</p>
            <ul>
                <li>"Welcome, " .. player.Name .. "! Ready to run?"</li>
                <li>player.Name .. " has entered the game zone!"</li>
                <li>"Hey " .. player.Name .. ", watch your step!"</li>
            </ul>
        </div>

        <h2>Step 7: Add Visual Feedback</h2>
        <p>Let's make the part change color when touched! Add this line inside the innermost if statement:</p>

        <div class="code-example">
            <pre><code>local part = script.Parent

part.Touched:Connect(function(hit)
    local humanoid = hit.Parent:FindFirstChild("Humanoid")

    if humanoid then
        local player = game.Players:GetPlayerFromCharacter(hit.Parent)
        if player then
            print(player.Name .. " touched the part!")
            part.BrickColor = BrickColor.new("Bright blue")
        end
    end
end)</code></pre>
        </div>

        <p>Now when a player touches it, the part turns blue! This gives players immediate visual feedback.</p>

        <div class="try-it">
            <h3>Experiment Time!</h3>
            <ul>
                <li>Try different colors: "Bright red", "Really red", "Hot pink", "Lime green"</li>
                <li>Add <code>part.Material = Enum.Material.Neon</code> to make it glow!</li>
                <li>Try <code>part.Transparency = 0.5</code> to make it half-transparent</li>
            </ul>
        </div>

        <h2>Common Mistakes and Fixes</h2>

        <div class="troubleshooting">
            <h3>Problem: Nothing happens when I touch the part</h3>
            <p><strong>Solutions:</strong></p>
            <ul>
                <li>Make sure the script is inside the part, not in ServerScriptService</li>
                <li>Check that the part is NOT anchored (uncheck Anchored in Properties) - wait, actually for this to work the part should be Anchored! Check both ways to see what works for your setup</li>
                <li>Verify the Output window is open so you can see messages</li>
                <li>Check for red error messages in Output</li>
            </ul>
        </div>

        <div class="troubleshooting">
            <h3>Problem: The message prints dozens of times</h3>
            <p><strong>This is normal!</strong> As you walk through the part, different body parts touch it repeatedly. In future missions, you'll learn how to make events fire only once using a "debounce" system.</p>
        </div>

        <div class="troubleshooting">
            <h3>Problem: "attempt to index nil with 'Name'" error</h3>
            <p><strong>Solution:</strong> This means something without a Name touched the part. Make sure you're using the <code>if humanoid then</code> check to filter for only player characters.</p>
        </div>

        <h2>Why This Matters</h2>
        <p>You just learned one of the most important concepts in game development: <strong>event-driven programming</strong>. Almost everything in games is based on events:</p>

        <ul>
            <li>Checkpoints? Touched events.</li>
            <li>Collectible coins? Touched events.</li>
            <li>Buttons and doors? Touched events (or Clicked events).</li>
            <li>Damage zones? Touched events.</li>
            <li>Finish lines? You guessed it - Touched events!</li>
        </ul>

        <p>Master this concept, and you can create any interactive element you can imagine.</p>

        <div class="pro-tip">
            <h3>Pro Developer Tip</h3>
            <p>Always test what's touching your parts before running code on it. The <code>if humanoid then</code> check prevents errors when random objects touch your parts. This kind of "defensive coding" separates buggy games from polished ones!</p>
        </div>
    </div>

    <div class="mission-check">
        <h2>Mission Check</h2>
        <p>Before moving on, make sure you can:</p>
        <ul>
            <li>Explain what an event is in your own words</li>
            <li>Add a script to a part (not just ServerScriptService)</li>
            <li>Write a basic Touched event that prints a message</li>
            <li>Use the <code>hit</code> parameter to detect what touched the part</li>
            <li>Check for a Humanoid to detect player characters</li>
            <li>Get and print a player's username</li>
            <li>Change a part's properties (color, material, etc.) when touched</li>
        </ul>
    </div>

    <div class="mission-bridge">
        <h2>What's Next?</h2>
        <p>Now that you know how to detect when players touch things, you're ready to build something really useful: checkpoints! In the next mission, you'll create spawn points that save player progress through your island runner. No more starting over from the beginning every time you fall!</p>
    </div>
</body>
</html>
